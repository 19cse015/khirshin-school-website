<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index, follow">

  <title>Exam Notices | পরীক্ষার বিজ্ঞপ্তি | Khirshin S.K High School</title>
  <meta name="description"
    content="Check the latest exam schedules, circulars, and important announcements for students at Khirshin S.K High School, Patnitala, Naogaon. Stay updated with all exam-related information.">
  <link rel="stylesheet" href="/public/update.css">
  <link rel="stylesheet" href="/CSS/footer.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous" />
  <style>
    /* ===== Table Container ===== */
    .table-container {
      max-width: 90%;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      overflow-x: auto;
    }

    .table-container table {
      width: 100%;
      border-collapse: collapse;
      min-width: 500px;
    }

    .table-container thead {
      background: #007BFF;
      color: #fff;
    }

    .table-container th,
    .table-container td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }

    .table-container tbody tr:nth-child(even) {
      background: #f9f9f9;
    }

    .table-container tbody tr:hover {
      background: #e3f2fd;
      transition: background 0.3s;
    }

    .table-container a {
      color: #007bff;
      text-decoration: none;
      font-weight: 500;
    }

    .table-container a:hover {
      text-decoration: underline;
    }

    @media(max-width: 768px) {
      .table-container {
        overflow-x: auto;
      }

      .table-container table {
        min-width: 600px;
      }

      .table-container th,
      .table-container td {
        padding: 10px;
        font-size: 14px;
      }
    }
  </style>
</head>

<body>
  <div class="top-bar">
    <span>Education</span>
    <span>Discipline</span>
    <span>Character</span>
  </div>

  <header class="school-header">
    <div class="logo">
      <img src="/images/logo-final.jpg" alt="School Logo">
    </div>

    <div class="school-info">
      <h1>KHIRSHIN S.K HIGH SCHOOL</h1>
      <p>Patnitala, Naogaon, Bangladesh</p>
      <p>Established: 1943 | School Code: 1234 | EIIN: 123571</p>
    </div>

    <div class="header-btn">

      <button class="btn-login" onclick="window.location.href='/ADMIN/login.html'">Login</button>
    </div>
  </header>

  <!-- Navbar -->
  <nav class="navbar">

    <ul class="menu">
      <li><a href="index.html">Home</a></li>
      <li class="dropdown">
        <a href="#">About Us ▾</a>
        <ul class="dropdown-content">
          <li><a href="principal-message.html">Principal's Message</a></li>
          <li><a href="history_of_school.html">History of Our School</a></li>
          <li><a href="Teacher_list.html">Teacher List</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Notice Board ▾</a>
        <ul class="dropdown-content">
          <li><a href="exam_notice.html">Exam Notice</a></li>
          <li><a href="academic_notice.html">Academic Notice</a></li>
          <li><a href="Admission-notice.html">Admission Notice</a></li>
          <li><a href="Event_notice.html">Event Notice</a></li>
          <li><a href="Result.html">Result</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Student Affairs ▾</a>
        <ul class="dropdown-content">
          <li><a href="school-uniform.html">School Uniform</a></li>
          <li><a href="class-routine.html">School Timing</a></li>
          <li><a href="photo-galarry.html">Photo Gallery</a></li>
          <li><a href="#">Awards</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Event Notices Section -->
  <section class="notice-section">
    <h2 style="text-align: center; margin-top: 20px;">Exam Notices</h2>
    <div class="table-container">
      <table id="eventNoticeTable">
        <thead>
          <tr>
            <th>SL</th>
            <th>Title</th>
            <th>View</th>
            <th>Download</th>
          </tr>
        </thead>
        <tbody>
          <!-- JS দিয়ে load হবে -->
        </tbody>
      </table>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="row">
      <!-- Contact -->
      <div class="col">
        <h3>Contact Us</h3>
        <ul class="contact-info">
          <li><i class="fas fa-envelope"></i><span>khirshin1943@gmail.com</span></li>
          <li><i class="fas fa-phone-alt"></i><span>+880 1741-069502</span></li>
          <li>
            <i class="fas fa-globe"></i>
            <a href="https://www.kskhs.edu.bd" target="_blank">Official Website: www.kskhs.edu.bd</a>
          </li>

          <li><i class="fas fa-map-marker-alt"></i><span>Khirshin, Patnitala, Naogaon, Bangladesh</span></li>
        </ul>
      </div>


      <!-- Quick Links -->
      <div class="col footer-icons">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="index.html"><i class="fa-solid fa-house"></i> Home</a></li>
          <li><a href="principal-message.html"><i class="fa-solid fa-user-tie"></i> Principal's Message</a></li>
          <li><a href="history_of_school.html"><i class="fa-solid fa-school"></i> About Our School</a></li>
          <li><a href="Teacher_list.html"><i class="fa-solid fa-chalkboard-teacher"></i> Teacher List</a></li>
          <li><a href="class-routine.html"><i class="fa-solid fa-clock"></i> Class Routine</a></li>
          <li><a href="exam_notice.html"><i class="fa-solid fa-file-alt"></i> Exam Notice</a></li>
          <li><a href="Admission-notice.html"><i class="fa-solid fa-file-import"></i> Admission Notice</a></li>
          <li><a href="photo-galarry.html"><i class="fa-solid fa-images"></i> Photo Gallery</a></li>
          <li><a href="contact.html"><i class="fa-solid fa-phone"></i> Contact Us</a></li>
        </ul>
      </div>


      <!-- Social Media -->

      <div class="col follow-us">
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="#" class="social-icon facebook">
            <i class="fab fa-facebook-f"></i>
            <span>Facebook</span>
          </a>
          <a href="#" class="social-icon twitter">
            <i class="fab fa-twitter"></i>
            <span>Twitter</span>
          </a>
          <a href="#" class="social-icon linkedin">
            <i class="fab fa-linkedin-in"></i>
            <span>LinkedIn</span>
          </a>
          <a href="#" class="social-icon youtube">
            <i class="fab fa-youtube"></i>
            <span>YouTube</span>
          </a>
        </div>
      </div>



      <!-- About -->
      <div class="col">
        <h3>About Us</h3>
        <ul>
          <li><a href="">Khirshin S.K High School, established in 1943, is a renowned educational institution in
              Patnitala, Naogaon.
              We are dedicated to providing quality education that builds knowledge, discipline, and character in every
              student.

            </a></li>
        </ul>

      </div>
    </div>

    <hr>

    <p>&copy;<span id="year"></span> All Rights Reserved By Md.Arif Hossain</p>
    <script src="/public/year.js"></script>
  </footer>

  <script>
    // Fetch Event Notices from backend
    async function loadEventNotices() {
      try {
        const res = await fetch('/api/notices');
        const data = await res.json();
        const tbody = document.querySelector('#eventNoticeTable tbody');
        tbody.innerHTML = '';

        const eventNotices = data.filter(n => n.category === 'exam');

        if (eventNotices.length === 0) {
          tbody.innerHTML = '<tr><td colspan="4" style="text-align:center;">No Event notices available.</td></tr>';
          return;
        }

        eventNotices.forEach((n, index) => {
          let pdfURL = n.pdf_file;

          // Cloudinary raw PDF inline view fix
          if (pdfURL.includes('/upload/')) {
            pdfURL = pdfURL.replace('/upload/', '/upload/fl_attachment:false/');
          }


          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td data-label="SL">${index + 1}</td>
            <td data-label="Title">${n.title}</td>
            <td data-label="View">

              <a href="${pdfURL}" target="_blank"><i class="fa fa-eye"></i> View</a>

            </td>
            <td data-label="Download">
              <a href="${n.pdf_file}" download><i class="fa fa-download"></i> Download</a>
            </td>
          `;
          tbody.appendChild(tr);
        });

      } catch (err) {
        console.error(err);
        const tbody = document.querySelector('#eventNoticeTable tbody');
        tbody.innerHTML = '<tr><td colspan="4" style="text-align:center;">Error loading notices.</td></tr>';
      }
    }

    // Initial load
    loadEventNotices();

    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

</body>

</html>